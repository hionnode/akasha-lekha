---
import CopyButton from './CopyButton.astro';

interface Props {
  code: string;
  language?: string;
  filename?: string;
}

const { code, language = 'text', filename } = Astro.props;
---

<div class="relative border border-border bg-bg-secondary rounded overflow-hidden">
  {filename && (
    <div class="px-4 py-2 border-b border-border bg-bg-tertiary">
      <span class="text-xs font-semibold text-fg-muted">{filename}</span>
    </div>
  )}
  <div class="relative">
    <div class="absolute top-2 left-2">
      <span class="text-xs font-semibold uppercase tracking-wider text-fg-muted px-2 py-1 bg-bg-primary rounded">
        {language}
      </span>
    </div>
    <CopyButton code={code} client:load />
    <pre class="p-4 overflow-x-auto"><code class={`language-${language}`}>{code}</code></pre>
  </div>
</div>

<style>
  pre code {
    font-family: 'Inconsolata', monospace;
    font-size: 0.875rem;
    line-height: 1.5;
  }
</style>

