---
---

<div id="fastfetch-output" class="font-mono text-sm">
  <!-- Output will be populated by client script -->
</div>

<script>
  interface BrowserInfo {
    name: string;
    version: string;
    os: string;
    osVersion: string;
    screen: string;
    viewport: string;
    theme: string;
    timezone: string;
    language: string;
    cpuCores: number;
    memory?: string;
    connection?: string;
  }

  function detectBrowser(): { name: string; version: string; ascii: string; gradient: string } {
    const ua = navigator.userAgent;
    let name = 'Browser';
    let version = '';
    let ascii = '';
    let gradient = '';

    // Chrome/Chromium
    if (ua.includes('Chrome') && !ua.includes('Edg') && !ua.includes('OPR') && !ua.includes('Brave')) {
      const match = ua.match(/Chrome\/(\d+)/);
      version = match ? match[1] : '';
      name = 'Chrome';
      ascii = `        â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
       â•±                 â•²
      â”‚   â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®     â”‚
      â”‚  â”‚  ğŸ”µ      â”‚    â”‚
      â”‚  â”‚ â•±   â•²   â”‚    â”‚
      â”‚  â”‚â”‚ ğŸ”´ â”‚â”‚  â”‚    â”‚
      â”‚  â”‚ â•²   â•±   â”‚    â”‚
      â”‚  â”‚  ğŸŸ¡      â”‚    â”‚
      â”‚   â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯     â”‚
       â•²                 â•±
        â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
        Chrome/Chromium`;
      gradient = 'linear-gradient(135deg, #4285F4 0%, #EA4335 33%, #FBBC04 66%, #34A853 100%)';
    }
    // Firefox
    else if (ua.includes('Firefox')) {
      const match = ua.match(/Firefox\/(\d+)/);
      version = match ? match[1] : '';
      name = 'Firefox';
      ascii = `          â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
         â•±           â•²
        â”‚     ğŸ¦Š      â”‚
        â”‚   â•±   â•²    â”‚
        â”‚  â”‚ ğŸ”¥ â”‚   â”‚
        â”‚   â•²   â•±    â”‚
        â”‚     â•°â”€â•¯    â”‚
         â•²           â•±
          â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
            Firefox`;
      gradient = 'linear-gradient(135deg, #FF7139 0%, #E66000 50%, #FFCD02 100%)';
    }
    // Safari
    else if (ua.includes('Safari') && !ua.includes('Chrome')) {
      const match = ua.match(/Version\/(\d+)/);
      version = match ? match[1] : '';
      name = 'Safari';
      ascii = `           â•­â”€â”€â”€â”€â”€â”€â”€â•®
          â•±   ğŸ§­    â•²
         â”‚  â•±   â•²   â”‚
         â”‚ â”‚  ğŸ”µ â”‚ â”‚
         â”‚  â•²   â•±   â”‚
          â•²   â•°â”€â•¯  â•±
           â•°â”€â”€â”€â”€â”€â”€â”€â•¯
            Safari`;
      gradient = 'linear-gradient(135deg, #007AFF 0%, #5AC8FA 50%, #0051D5 100%)';
    }
    // Edge
    else if (ua.includes('Edg')) {
      const match = ua.match(/Edg\/(\d+)/);
      version = match ? match[1] : '';
      name = 'Edge';
      ascii = `          â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
         â”‚             â”‚
         â”‚    â•­â”€â”€â”€â•®    â”‚
         â”‚   â”‚  e  â”‚   â”‚
         â”‚   â”‚  ğŸ”µ â”‚   â”‚
         â”‚    â•°â”€â”€â”€â•¯    â”‚
         â”‚             â”‚
          â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
            Edge`;
      gradient = 'linear-gradient(135deg, #0078D4 0%, #00BCF2 50%, #0063B1 100%)';
    }
    // Brave
    else if (ua.includes('Brave')) {
      name = 'Brave';
      ascii = `          â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
         â”‚    ğŸ¦      â”‚
         â”‚  â•±   â•²    â”‚
         â”‚ â”‚ ğŸŸ  â”‚   â”‚
         â”‚  â•²   â•±    â”‚
         â”‚    â•°â”€â•¯    â”‚
          â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
            Brave`;
      gradient = 'linear-gradient(135deg, #FB542B 0%, #FFD700 50%, #FF0000 100%)';
    }
    // Opera
    else if (ua.includes('OPR')) {
      const match = ua.match(/OPR\/(\d+)/);
      version = match ? match[1] : '';
      name = 'Opera';
      ascii = `          â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
         â”‚    â­•     â”‚
         â”‚   â•± â•²    â”‚
         â”‚  â”‚ ğŸ”´ â”‚  â”‚
         â”‚   â•² â•±    â”‚
         â”‚    â•°â”€â•¯   â”‚
          â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
            Opera`;
      gradient = 'linear-gradient(135deg, #FF1B2D 0%, #FF4B4B 50%, #CC0000 100%)';
    }
    // Fallback
    else {
      ascii = `          â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
         â”‚             â”‚
         â”‚     ğŸŒ      â”‚
         â”‚   â•±   â•²    â”‚
         â”‚  â”‚  ğŸŒ â”‚   â”‚
         â”‚   â•²   â•±    â”‚
         â”‚     â•°â”€â•¯    â”‚
         â”‚             â”‚
          â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
           Browser`;
      gradient = 'linear-gradient(135deg, #4285F4 0%, #34A853 33%, #FBBC04 66%, #EA4335 100%)';
    }

    return { name, version, ascii, gradient };
  }

  function detectOS(): { os: string; version: string } {
    const ua = navigator.userAgent;
    const platform = navigator.platform;

    if (ua.includes('Mac OS X') || ua.includes('Macintosh')) {
      const match = ua.match(/Mac OS X (\d+)[._](\d+)/);
      if (match) {
        return { os: 'macOS', version: `${match[1]}.${match[2]}` };
      }
      return { os: 'macOS', version: 'Unknown' };
    } else if (ua.includes('Windows')) {
      const match = ua.match(/Windows NT (\d+)\.(\d+)/);
      if (match) {
        const versions: Record<string, string> = {
          '10.0': '10/11',
          '6.3': '8.1',
          '6.2': '8',
          '6.1': '7',
        };
        const key = `${match[1]}.${match[2]}`;
        return { os: 'Windows', version: versions[key] || key };
      }
      return { os: 'Windows', version: 'Unknown' };
    } else if (ua.includes('Linux')) {
      return { os: 'Linux', version: 'Unknown' };
    } else if (ua.includes('Android')) {
      const match = ua.match(/Android (\d+\.?\d*)/);
      return { os: 'Android', version: match ? match[1] : 'Unknown' };
    } else if (ua.includes('iPhone') || ua.includes('iPad')) {
      const match = ua.match(/OS (\d+)[._](\d+)/);
      if (match) {
        return { os: 'iOS', version: `${match[1]}.${match[2]}` };
      }
      return { os: 'iOS', version: 'Unknown' };
    }

    return { os: platform || 'Unknown', version: 'Unknown' };
  }

  function getBrowserInfo(): BrowserInfo {
    const browser = detectBrowser();
    const os = detectOS();
    const isDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
    const memory = (navigator as any).deviceMemory ? `${(navigator as any).deviceMemory} GB` : undefined;
    const connection = (navigator as any).connection?.effectiveType;

    return {
      name: browser.name,
      version: browser.version,
      os: os.os,
      osVersion: os.version,
      screen: `${screen.width}x${screen.height}`,
      viewport: `${window.innerWidth}x${window.innerHeight}`,
      theme: isDark ? 'Dark' : 'Light',
      timezone,
      language: navigator.language,
      cpuCores: navigator.hardwareConcurrency,
      memory,
      connection,
    };
  }

  function renderFastfetch() {
    const output = document.getElementById('fastfetch-output');
    if (!output) return;

    const browser = detectBrowser();
    const info = getBrowserInfo();

    const infoLines = [
      `OS: ${browser.name} ${browser.version}`,
      `Platform: ${info.os} ${info.osVersion}`,
      `Resolution: ${info.screen}`,
      `Viewport: ${info.viewport}`,
      `Theme: ${info.theme}`,
      `Timezone: ${info.timezone}`,
      `Language: ${info.language}`,
      `CPU Cores: ${info.cpuCores}`,
    ];

    if (info.memory) {
      infoLines.push(`Memory: ${info.memory}`);
    }
    if (info.connection) {
      infoLines.push(`Connection: ${info.connection}`);
    }

    const maxInfoLength = Math.max(...infoLines.map((l) => l.length));

    output.innerHTML = `
      <div class="flex gap-6 items-center justify-center h-full">
        <pre class="browser-logo text-sm leading-tight flex-shrink-0" style="background: ${browser.gradient}; -webkit-background-clip: text; background-clip: text; color: transparent; font-weight: bold;">${browser.ascii}</pre>
        <div class="flex-shrink-0">
          <pre class="text-fg-secondary font-mono text-sm leading-relaxed">â•­${'â”€'.repeat(maxInfoLength + 2)}â•®
${infoLines.map((line) => `â”‚  ${line.padEnd(maxInfoLength)}  â”‚`).join('\n')}
â•°${'â”€'.repeat(maxInfoLength + 2)}â•¯</pre>
        </div>
      </div>
    `;
  }

  // Render when component loads
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', renderFastfetch);
  } else {
    renderFastfetch();
  }
</script>

<style>
  .browser-logo {
    font-family: 'Inconsolata', monospace;
  }
</style>

