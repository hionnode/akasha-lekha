# Part 23: API Design ‚Äî REST Best Practices

> Status: PLANNED
> Blog file: `apps/web/src/content/blog/aws-for-startups/23-api-design-rest.mdx`
> Estimated word count: 2,500-3,000

## Frontmatter

```yaml
---
title: "API Design: REST That Doesn't Make Your Frontend Team Cry"
description: "Design REST APIs with consistent error handling, cursor-based pagination, and trace IDs. API contracts that work for humans, agents, and your future self."
excerpt: "REST that doesn't make your frontend team cry. Consistent error formats, cursor pagination, trace IDs ‚Äî API contracts decided by humans, generated by agents."
date: "2026-04-04"
author: "works-on-my.cloud"
tags: ["aws", "devops", "startup", "api-gateway"]
series: "AWS From Zero to Production"
seriesPart: 23
featured: false
draft: true
---
```

## Component Imports

```mdx
import Alert from '../../../components/shared/Alert.astro';
import ValidationChecklist from '../../../components/shared/ValidationChecklist.astro';
import ComparisonTable from '../../../components/shared/ComparisonTable.astro';
import ApiEndpoint from '../../../components/shared/ApiEndpoint.astro';
import ResponseExample from '../../../components/shared/ResponseExample.astro';
```

## Opening Hook

Your agent generates three endpoints. Each returns errors differently: one uses `{error: "message"}`, another `{msg: "error", code: 500}`, the third `{errors: [{detail: "..."}]}`. Your frontend needs three different error handlers. This is what happens when agents design APIs ‚Äî they're inconsistent across calls because each prompt is independent.

Time promise: 35 minutes.
Outcome promise: API contract with consistent error format, cursor-based pagination, trace IDs in every response, and AGENT-INSTRUCTIONS.md rules that enforce consistency.

## Section Outline

### 1. Why This Matters ‚Äî Agent-generated APIs are inconsistent by default
### 2. Error Response Format ‚Äî Standard format: {error, message, request_id, trace_id}
### 3. Pagination ‚Äî Cursor-based vs offset (table comparison), why cursor wins
### 4. Request/Response IDs ‚Äî trace_id and request_id in every response for debugging
### 5. HTTP Status Codes ‚Äî Consistent usage guide
### 6. Versioning Strategy ‚Äî URL vs header versioning
### 7. AGENT-INSTRUCTIONS.md Addition ‚Äî API Design section (5 lines)

## The Fine Line

| | |
|---|---|
| ‚ùå Under | No API contract, inconsistent errors, offset pagination |
| ‚úÖ Right | Consistent error format, cursor pagination, trace IDs, documented in AGENT-INSTRUCTIONS.md |
| ‚ùå Over | GraphQL + REST + gRPC, API gateway with rate limiting, before you have users |
| ü§ñ Agent Trap | Agent generates inconsistent error formats across endpoints because each prompt is independent |

## Thread Progression

- **AGENT-INSTRUCTIONS.md:** API Design section added (5 lines). Cumulative: 53 lines.
- **Scorecard:** No new panels
- **Eval:** No changes
- **MCP:** No changes

## Validation Checklist Items

- **API Design:** Error response format documented and consistent; Cursor-based pagination pattern defined; request_id and trace_id in all responses; HTTP status codes usage guide created
- **AGENT-INSTRUCTIONS.md:** API Design section added (5 rules)

## Key Takeaways

1. Humans design API contracts, agents implement them ‚Äî this is a Design step, not a Generate step.
2. Consistent error format ({error, message, request_id, trace_id}) across all endpoints eliminates frontend error-handling chaos.
3. Cursor-based pagination scales; offset-based breaks at scale. Pick cursor from day one.
4. trace_id in every response connects API calls to distributed traces in SigNoz ‚Äî debugging becomes trivial.

## Lead Magnet

- **Name:** API Design Cheatsheet
- **Format:** PDF
- **Contents:** Error format template, pagination patterns, HTTP status code guide, OpenAPI starter template.
